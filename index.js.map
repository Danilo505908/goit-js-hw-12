{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst instance = axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    params: {\n        key: '51756879-33acfcb6aa2bec76bd89378fe',\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    },\n});\n\nexport function getImagesByQuery(query) {\n    return instance\n        .get('', {\n            params: { q: query }\n        })\n        .then(response => response.data);\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = new SimpleLightbox(\".gallery a\");\n\nexport function createGallery(images) {\n    const galleryElem = document.querySelector('.gallery');  \n    const markup = images\n        .map((image) => \n            `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                    <img\n                        class=\"gallery-image\"\n                        src=\"${image.webformatURL}\"\n                        data-source=\"${image.largeImageURL}\"\n                        alt=\"${image.tags}\"\n                    />\n                    <div class=\"gallery-box\">\n                        <p class=\"gallery-box-text\">Likes <span class=\"gallery-box-span\">${image.likes}</span></p>\n                        <p class=\"gallery-box-text\">Views <span class=\"gallery-box-span\">${image.views}</span></p>\n                        <p class=\"gallery-box-text\">Comments <span class=\"gallery-box-span\">${image.comments}</span></p>\n                        <p class=\"gallery-box-text\">Downloads <span class=\"gallery-box-span\">${image.downloads}</span></p>\n                    </div>\n                </a>\n            </li>`)\n        .join('');\n\n    galleryElem.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    const galleryElem = document.querySelector('.gallery');  \n    galleryElem.innerHTML = '';\n}\n\nexport function showLoader() {\n    document.querySelector('.loader').classList.remove('is-hidden');\n}\n\nexport function hideLoader() {\n    document.querySelector('.loader').classList.add('is-hidden');\n}\n","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { clearGallery, createGallery, hideLoader, showLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst formElem = document.querySelector('.form');\n\nformElem.addEventListener('submit', async e => {\n    e.preventDefault();\n\n    const query = e.target.elements.searchText.value.trim();\n\n    if (!query) {\n    return;\n}\n\n    clearGallery();\n    showLoader();\n\n    try {\n        const data = await getImagesByQuery(query);\n\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message:\n                \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n        } else {\n            createGallery(data.hits);\n        }\n    } catch (error) {\n        iziToast.error({\n            message: \"An error occurred while fetching images. Please try again.\",\n        });\n    } finally {\n        hideLoader();\n    }\n\n    \n});\n\n"],"names":["instance","axios","getImagesByQuery","query","response","lightbox","SimpleLightbox","createGallery","images","galleryElem","markup","image","clearGallery","showLoader","hideLoader","formElem","e","data","iziToast"],"mappings":"owBAEA,MAAMA,EAAWC,EAAM,OAAO,CAC1B,QAAS,2BACT,OAAQ,CACJ,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACL,CAAC,EAEM,SAASC,EAAiBC,EAAO,CACpC,OAAOH,EACF,IAAI,GAAI,CACL,OAAQ,CAAE,EAAGG,CAAO,CAChC,CAAS,EACA,KAAKC,GAAYA,EAAS,IAAI,CACvC,CCfA,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAEvC,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAASF,EACV,IAAKG,GACF;AAAA,gDACoCA,EAAM,aAAa;AAAA;AAAA;AAAA,+BAGpCA,EAAM,YAAY;AAAA,uCACVA,EAAM,aAAa;AAAA,+BAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA,2FAGkDA,EAAM,KAAK;AAAA,2FACXA,EAAM,KAAK;AAAA,8FACRA,EAAM,QAAQ;AAAA,+FACbA,EAAM,SAAS;AAAA;AAAA;AAAA,kBAG5F,EACT,KAAK,EAAE,EAEZF,EAAY,mBAAmB,YAAaC,CAAM,EAClDL,EAAS,QAAO,CACpB,CAEO,SAASO,GAAe,CAC3B,MAAMH,EAAc,SAAS,cAAc,UAAU,EACrDA,EAAY,UAAY,EAC5B,CAEO,SAASI,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,WAAW,CAClE,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,WAAW,CAC/D,CCrCA,MAAMC,EAAW,SAAS,cAAc,OAAO,EAE/CA,EAAS,iBAAiB,SAAU,MAAMC,GAAK,CAC3CA,EAAE,eAAc,EAEhB,MAAMb,EAAQa,EAAE,OAAO,SAAS,WAAW,MAAM,OAEjD,GAAKb,EAIL,CAAAS,IACAC,IAEA,GAAI,CACA,MAAMI,EAAO,MAAMf,EAAiBC,CAAK,EAErCc,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,QACA,0EAChB,CAAa,EAEDX,EAAcU,EAAK,IAAI,CAE9B,MAAe,CACZC,EAAS,MAAM,CACX,QAAS,4DACrB,CAAS,CACT,QAAc,CACNJ,GACH,EAGL,CAAC"}